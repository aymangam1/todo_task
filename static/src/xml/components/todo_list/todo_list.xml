<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
<t t-name="todo_task.TodoList">
    <div class="input-group my-2">
        <input type="text" t-model="state.name" placeholder="Task name" class="form-control"/>
        <input type="date" t-model="state.deadline" class="form-control mx-2"/>
        <select t-model="state.priority" class="form-select mx-2">
            <option value="0">Low</option>
            <option value="1">Normal</option>
            <option value="2">High</option>
        </select>
        <input type="text" t-model="state.note" placeholder="Note" class="form-control mx-2"/>
        <div class="input-group mx-2" style="width: 8rem;">
            <span class="input-group-text">🎨</span>
            <input type="color" t-model="state.color" class="form-control form-control-color" style="height: 2.5rem;" />
        </div>
        <button class="btn btn-primary" t-on-click="addTask">Add</button>

    </div>
    <div class="btn-group my-2">
        <button class="btn btn-outline-primary" t-on-click="() => state.viewMode = 'list'">📄 list</button>
        <button class="btn btn-outline-primary" t-on-click="() => state.viewMode = 'kanban'">📦 kanban</button>
        <button class="btn btn-outline-primary" t-on-click="() => state.viewMode = 'table'">📊 table</button>
    </div>

    <t t-if="state.viewMode === 'list'">
        <ul class="task-list d-flex flex-column mt-3 p-0 overflow-auto" style="max-height: 85vh;">
            <t t-foreach="state.tasks" t-as="task" t-key="task.id">
                <TodoItem task="task" onEdit.bind="editTask" onDelete.bind="deleteTask"/>
            </t>
        </ul>
    </t>

    <t t-if="state.viewMode === 'kanban'">
        <div class="row mt-3">
            <t t-foreach="state.tasks" t-as="task" t-key="task.id">
                <div class="col-md-4 mb-3">
                    <TodoItem task="task" onEdit.bind="editTask" onDelete.bind="deleteTask"/>
                </div>
            </t>
        </div>
    </t>


    <!-- Table -->
    <table t-if="state.viewMode === 'table'" class="table table-striped">
        <thead>
            <tr>
                <th>✔️</th>
                <th>Task</th>
                <th>Deadline</th>
                <th>Priority</th>
                <th>Note</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <t t-foreach="state.tasks" t-as="task" t-key="task.id">
                <TodoItem task="task" onEdit.bind="editTask" onDelete.bind="deleteTask" viewMode="'table'"/>
            </t>
        </tbody>
    </table>




</t>
</templates>
